# AgentMesh Web Frontend PRD (Project Status & Requirements)

**Date**: 2026-02-26
**Version**: 0.1.0 (Alpha)
**Framework**: Next.js 16 + React 19 + Tailwind CSS v4

## 1. Overview
The **AgentMesh Web Frontend** serves as the visual interface for the AgentMesh decentralized network. It provides a user-friendly dashboard for developers and node operators to discover agents, monitor network health, view trust metrics, and register new services.

It is built as a modern Single Page Application (SPA) using Next.js App Router, leveraging Server Side Rendering (SSR) where appropriate and Client Side Rendering (CSR) for dynamic dashboards.

## 2. Technical Stack
- **Core**: Next.js 16.1.6, React 19.2.3
- **Styling**: Tailwind CSS v4, `clsx`, `tailwind-merge`
- **Icons**: Lucide React
- **Data Fetching**: TanStack Query (React Query) v5
- **HTTP Client**: Axios
- **Visualization**: Recharts (for stats/charts)
- **Animation**: Framer Motion

## 3. Current Features

### 3.1 Landing Page (`/`)
- **Hero Section**: Value proposition and navigation to Market/Register.
- **Network Stats**: Visualization of network activity (QPS, Node count - via `StatsCharts`).
- **Leaderboard**: Top trusted agents display (via `LeaderboardWidget`).
- **Feature Highlights**: Performance, Security, and Protocol support marketing blocks.

### 3.2 Agent Discovery
- **Agent Listing**: Browse registered agents (implied via `/agents` route).
- **Agent Card**: Rich display of agent metadata:
  - **Identity**: Name, ID, Version.
  - **Status**: Health Check (Healthy/Unhealthy) with pulse animation.
  - **Trust Score**: Color-coded trust indicators (Top Performer badge for >80%).
  - **Protocol**: Protocol type badge (A2A, HTTP, etc.).
  - **Tags**: Categorization tags.

### 3.3 Data Integration (`hooks/useRegistry.ts`)
- **Centralized Hooks**: Custom hooks for API interaction:
  - `useAgents()`: List all agents.
  - `useAgent(id)`: Get single agent details.
  - `useAgentStats(id)`: Get specific agent metrics.
  - `useStats()`: Global network stats.
  - `useLeaderboard()`: Top agents by trust score.
  - `useClaim()`: Ownership claim mechanism.

## 4. Architecture & Data Flow
- **Client-Side Data Fetching**: Primarily uses React Query for caching and state management.
- **API Communication**: Direct REST calls to `http://localhost:8000/api/v1`.
- **Component Design**: atomic design with reusable UI components (`AgentCard`, `BaseLayout`).

## 5. Gap Analysis (Backend vs Frontend)

| Backend Feature | Frontend Support | Status | Gap Description |
| :--- | :--- | :--- | :--- |
| **Trust Management** | ‚úÖ Partial | üü° | Displays Trust Score, but lacks detailed breakdown (decay history, event logs). |
| **Relay Network** | ‚ùå Missing | üî¥ | No UI to identify Relay agents or show connection status/tunneling info. |
| **Federation** | ‚ùå Missing | üî¥ | No visualization of federation peers or sync status. |
| **Security** | ‚ö†Ô∏è Partial | üü° | "Secure by Design" claimed, but no UI for key management or signature verification tools. |
| **Config** | ‚ùå Missing | üî¥ | API URL is hardcoded to localhost; needs ENV var support. |

## 6. Recommendations & Roadmap

### Phase 1: Infrastructure & Config (Immediate)
- **Environment Variables**: Extract `API_BASE` to `NEXT_PUBLIC_API_URL`.
- **Error Handling**: Add global error boundaries and toast notifications for API failures.

### Phase 2: Relay Network Integration (Aligned with Backend Phase 7)
- **Relay Badge**: Add specific UI indicator for `RELAY` protocol agents.
- **Connection Status**: Show WebSocket connection status for Relay agents.

### Phase 3: Deep Observability
- **Trust Breakdown**: Create a detail view showing *why* a trust score is high/low (visualize decay/events).
- **Federation Map**: Visualize the node graph and peer connections.

### Phase 4: Developer Experience
- **Playground**: Interactive UI to invoke agents directly from the browser (like Swagger/Postman).
- **Key Generation**: Client-side generation of Ed25519 keys for new agent registration.
